doctype html
html.no-js
	head
		include includes/head.pug
		block head
	body#top
		include includes/navbar.pug
		main(class=(minimal?'minimal':''))
			.container
				block content
		include includes/footer.pug
		
		//- Settings modal for no-JS users (checkbox toggle approach)
		input#settings-toggle.hidden-checkbox(type="checkbox")
		#theme-settings
			.row
				p.bold Settings
				label.close.postform-style(for="settings-toggle") Ã—
			.row
				.form-wrapper.mt-10
					.working-settings
						h4 Theme Settings
						//- Two separate forms with different behaviors
						.row.mb-10
							p To change themes, you have two options:
						
						//- Option 1: Standard approach (reloads page)
						form(method='GET' action='/forms/settheme')
							input(type="hidden" name="redirectTo" value=meta.url)
							.row
								.label Theme
								select(name='theme')
									option(value='default' selected=theme === 'default') default
									each availableTheme in themes || []
										option(value=availableTheme selected=theme === availableTheme) #{availableTheme}
							.row
								.label Code Theme
								select(name='codetheme')
									option(value='default' selected=codeTheme === 'default') default
									each availableCodeTheme in codeThemes || []
										option(value=availableCodeTheme selected=codeTheme === availableCodeTheme) #{availableCodeTheme}
							.row
								input.submit-btn(type='submit' value='Apply Theme and Reload Page')
						
						//- Option 2: Frame approach (doesn't reload page)
						iframe.hidden-frame(name="theme-frame")
						form.mt-10(method='GET' action='/forms/settheme' target="theme-frame")
							input(type="hidden" name="redirectTo" value=meta.url)
							.row
								.label Theme
								select(name='theme')
									option(value='default' selected=theme === 'default') default
									each availableTheme in themes || []
										option(value=availableTheme selected=theme === availableTheme) #{availableTheme}
							.row
								.label Code Theme
								select(name='codetheme')
									option(value='default' selected=codeTheme === 'default') default
									each availableCodeTheme in codeThemes || []
										option(value=availableCodeTheme selected=codeTheme === availableCodeTheme) #{availableCodeTheme}
							.row
								input.submit-btn(type='submit' value='Apply Theme (Keep Settings Open)')
								noscript
									p.mt-5 After applying theme, reload the page to see changes.
					
					.no-js-note
						p Note: Many settings require JavaScript to function and will be unavailable with JavaScript disabled.
						p Enable JavaScript for full site functionality including custom CSS, notifications, live updates, and more.
		
		//- Modal background for theme-settings
		label.theme-modal-bg(for="settings-toggle")
		#settings-modal-bg

